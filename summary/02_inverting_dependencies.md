# 02. 의존성 역전하기
1장에서 얘기한 계층형 아키텍처의 단점들에 대한 대안을 말하기 전, SOLID 원칙 중 SRP(단일 책임 원칙)와 DIP(의존성 역전 원칙)에 대해 설명한다.

## 1. 단일 책임 원칙
- 그냥 어렴풋이 ***"하나의 컴포넌트는 하나의 일을 수행한다"*** 로 알고 있던 이 원칙의 실제 정의는 달랐다.
- ***"컴포넌트를 변경하는 이유는 오직 하나뿐이어야 한다."***
- 책에서 말하듯, 의미상 *단일 책임 원칙* 보다는 *단일 변경 이유 원칙* 이 더 적합해 보인다.
- 아키텍처 관점에서 컴포넌트를 변경하게 되는 이유가 두 개 이상인 경우는 어떤 경우일까?
- 바로 의존성에 의해 변경되는 경우이다.
- 컴포넌트 A가 컴포넌트 B에 의존하는 경우, B의 변경은 A의 변경으로도 이어진다. 결국, A의 기능이 아닌, B에 의해 변경되는 것이다.
- 그렇다면 이 의존성을 어떻게 해결할까? 이는 의존성 역전 원칙에 의해 해결이 가능하다.

## 2. 의존성 역전 원칙
- ***"코드 상의 어떤 의존성이든 그 방향을 역전시킬 수 있다."***
- 도메인 계층이 영속성 계층의 의존성을 갖고 있다면 어떻게 역전시킬 수 있을까?
  1. 도메인 계층에 리포지토리에 대한 인터페이스를 만든다.
  2. 영속성 계층에서 이 리포지토리를 구현하게 한다.
>- 위 원칙이 적용되려면 두 의존성을 모두 다룰 수 있어야 한다.
>- 예를 들어, 서드파티 라이브러리의 경우는 해당되지 않는다.
- 위 두 원칙은 이후 설명할 ***클린 아키텍처***의 핵심 기능이 된다.